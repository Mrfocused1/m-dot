<!DOCTYPE html>
<html>
<head>
    <title>Collision Box Debugger</title>
    <style>
        body {
            background: #1a1a1a;
            color: #0f0;
            font-family: 'Courier New', monospace;
            padding: 20px;
        }
        h1 { color: #0ff; }
        .box { background: #2a2a2a; padding: 10px; margin: 10px 0; border-left: 3px solid #0f0; }
        .huge { border-left-color: #f00; background: #3a1a1a; }
        .tiny { border-left-color: #00ff00; }
        button {
            background: #0f0;
            color: #000;
            padding: 15px 30px;
            font-size: 18px;
            border: none;
            cursor: pointer;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>üîç Collision Box Debugger</h1>
    <button onclick="checkCollisions()">CHECK COLLISION BOXES NOW</button>
    <div id="output"></div>

    <script>
        function checkCollisions() {
            const output = document.getElementById('output');
            output.innerHTML = '<h2>Opening game in iframe...</h2>';

            // Create hidden iframe to load game
            const iframe = document.createElement('iframe');
            iframe.src = '/?v=2&vwtsi=2&audi=2&rover=2&merc=2&fiesta=2&mode=test';
            iframe.style.display = 'none';
            document.body.appendChild(iframe);

            setTimeout(() => {
                try {
                    const gameWindow = iframe.contentWindow;
                    const colliders = gameWindow.environmentColliders || [];

                    let html = `<h2>Found ${colliders.length} collision boxes</h2>`;

                    colliders.forEach((col, i) => {
                        const volume = col.width * col.depth * col.height;
                        const isHuge = volume > 10;
                        const className = isHuge ? 'box huge' : 'box tiny';

                        html += `
                            <div class="${className}">
                                <strong>${i + 1}. ${col.label || 'Unnamed'}</strong><br>
                                Position: X=${col.x}, Z=${col.z}<br>
                                Size: ${col.width} √ó ${col.depth} √ó ${col.height}<br>
                                Volume: ${volume.toFixed(2)} cubic units ${isHuge ? 'üî¥ HUGE!' : '‚úÖ tiny'}
                            </div>
                        `;
                    });

                    output.innerHTML = html;
                } catch (e) {
                    output.innerHTML = `<p style="color: #f00">Error: ${e.message}</p>`;
                }
            }, 20000); // Wait 20 seconds for game to load
        }
    </script>
</body>
</html>
