<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merkle Man | Get Your Tooth Back</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        merkle: {
                            black: '#050505',
                            dark: '#0a0b10',
                            green: '#00ff41',
                            purple: '#bc13fe',
                            blue: '#00f3ff'
                        }
                    },
                    fontFamily: {
                        display: ['Orbitron', 'sans-serif'],
                        body: ['Rajdhani', 'sans-serif'],
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, #00ff4105 1px, transparent 1px), linear-gradient(to bottom, #00ff4105 1px, transparent 1px)",
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            color: #ffffff;
            overflow: hidden; /* No scrolling */
            cursor: none; /* Custom cursor */
            height: 100vh;
            width: 100vw;
        }

        html {
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0b10;
        }
        ::-webkit-scrollbar-thumb {
            background: #00ff41;
            border-radius: 4px;
        }

        /* Glow Utilities */
        .glow-text-green { text-shadow: 0 0 10px rgba(0, 255, 65, 0.7); }
        .glow-text-purple { text-shadow: 0 0 10px rgba(188, 19, 254, 0.7); }
        .glow-box-green { box-shadow: 0 0 20px rgba(0, 255, 65, 0.2); }

        .neon-border {
            position: relative;
        }
        .neon-border::after {
            content: '';
            position: absolute;
            inset: -2px;
            background: linear-gradient(45deg, #00ff41, #bc13fe, #00f3ff);
            z-index: -1;
            filter: blur(10px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .neon-border:hover::after {
            opacity: 1;
        }

        /* Custom Cursor */
        #cursor {
            width: 20px;
            height: 20px;
            border: 2px solid #00ff41;
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
            mix-blend-mode: difference;
        }
        #cursor.hovered {
            width: 50px;
            height: 50px;
            background-color: rgba(0, 255, 65, 0.2);
            border-color: #bc13fe;
        }

        /* SVG Utilities */
        .path-draw {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }

        /* Mobile Layout */
        @media (max-width: 768px) {
            #cursor {
                display: none; /* Hide custom cursor on mobile */
            }

            body {
                cursor: auto;
            }

            .mobile-logo {
                position: fixed;
                top: 20px;
                left: 20px;
                width: 80px;
                height: 80px;
                z-index: 50;
            }

            .mobile-layout {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                padding: 100px 20px 40px 20px;
            }

            .mobile-title {
                order: 1;
                margin-bottom: 20px;
            }

            .mobile-image-wrapper {
                order: 2;
                margin-bottom: 30px;
            }

            .mobile-buttons {
                order: 3;
            }
        }
    </style>
</head>
<body class="font-body selection:bg-merkle-green selection:text-black">

    <!-- Custom Cursor -->
    <div id="cursor"></div>

    <!-- Theme Music -->
    <audio id="theme-music" preload="auto">
        <source src="merkleman-theme.mp3" type="audio/mpeg">
    </audio>

    <!-- Background Grid -->
    <div class="fixed inset-0 bg-grid-pattern bg-[length:40px_40px] pointer-events-none z-[-1] opacity-20"></div>

    <!-- HERO SECTION -->
    <section class="relative h-screen flex items-center justify-center overflow-hidden">
        <!-- Background Vortex Elements -->
        <div class="absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none">
            <svg id="hero-vortex" width="800" height="800" viewBox="0 0 800 800" class="animate-spin-slow">
                <circle cx="400" cy="400" r="300" stroke="#00ff41" stroke-width="1" fill="none" stroke-dasharray="20 10" />
                <circle cx="400" cy="400" r="250" stroke="#bc13fe" stroke-width="1" fill="none" stroke-dasharray="10 30" />
                <circle cx="400" cy="400" r="200" stroke="#00f3ff" stroke-width="2" fill="none" stroke-dasharray="50 50" />
            </svg>
        </div>

        <!-- Mobile Logo (only visible on mobile) -->
        <div class="mobile-logo md:hidden">
            <img id="logo-image-mobile" src="merkleman-logo.png" alt="Merkle Man Logo" class="w-full h-full object-contain drop-shadow-[0_0_15px_rgba(0,255,65,0.5)] opacity-0" />
        </div>

        <!-- Mobile Layout (only on mobile) -->
        <div class="md:hidden mobile-layout w-full z-20">
            <!-- Title and Tagline -->
            <div class="mobile-title text-center px-4">
                <h1 class="text-4xl font-display font-black leading-tight mb-4">
                    <span id="hero-title-mobile" class="text-transparent bg-clip-text bg-gradient-to-r from-merkle-green to-merkle-blue whitespace-nowrap">The Merkle Man Game</span>
                </h1>
                <p id="hero-tagline-mobile" class="text-lg text-white font-light tracking-wider mb-6"></p>
            </div>

            <!-- Hero Image -->
            <div class="mobile-image-wrapper w-full max-w-md px-4">
                <div id="hero-image-mobile" class="w-full aspect-square bg-contain bg-center bg-no-repeat relative opacity-0 transform translate-y-20 scale-90"
                     style="background-image: url('merkleman-hero.png');">
                </div>
            </div>

            <!-- Buttons -->
            <div class="mobile-buttons flex flex-col gap-3 w-full max-w-xs px-4">
                <a href="select-stage.html" class="magnet-btn-mobile group relative px-6 py-3 bg-merkle-green text-black font-bold font-display uppercase tracking-widest overflow-hidden no-underline text-sm text-center">
                    <span class="relative z-10">Play Game</span>
                    <div class="absolute inset-0 bg-white transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 z-0"></div>
                </a>
                <button class="magnet-btn-mobile px-6 py-3 border border-merkle-purple text-merkle-purple font-bold font-display uppercase tracking-widest hover:bg-merkle-purple/10 transition-colors text-sm">
                    Instructions
                </button>
            </div>
        </div>

        <!-- Desktop Layout (only on desktop) -->
        <div class="hidden md:grid container mx-auto px-6 z-20 grid-cols-2 gap-12 items-center">
            <div class="text-left">
                <!-- Desktop Logo -->
                <div class="w-32 h-32 mb-6 relative">
                    <img id="logo-image-desktop" src="merkleman-logo.png" alt="Merkle Man Logo" class="w-full h-full object-contain drop-shadow-[0_0_15px_rgba(0,255,65,0.5)] opacity-0" />
                </div>

                <h1 class="text-7xl font-display font-black leading-tight mb-4">
                    <span id="hero-title-desktop" class="text-transparent bg-clip-text bg-gradient-to-r from-merkle-green to-merkle-blue">The Merkle Man Game</span>
                </h1>
                <p id="hero-tagline-desktop" class="text-2xl text-white font-light tracking-wider mb-8 h-8"></p>

                <div class="flex flex-row gap-4 justify-start">
                    <a href="select-stage.html" class="magnet-btn group relative px-8 py-4 bg-merkle-green text-black font-bold font-display uppercase tracking-widest overflow-hidden no-underline text-base">
                        <span class="relative z-10">Play Game</span>
                        <div class="absolute inset-0 bg-white transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 z-0"></div>
                    </a>
                    <button class="magnet-btn px-8 py-4 border border-merkle-purple text-merkle-purple font-bold font-display uppercase tracking-widest hover:bg-merkle-purple/10 transition-colors text-base">
                        Instructions
                    </button>
                </div>
            </div>

            <!-- Desktop Hero Image -->
            <div class="relative h-[500px] flex items-center justify-center perspective-1000">
                <div id="hero-image-desktop" class="w-full h-full bg-contain bg-center bg-no-repeat relative z-10 opacity-0 transform translate-y-20 scale-90"
                     style="background-image: url('merkleman-hero.png');">
                     <div class="absolute inset-0 bg-gradient-to-t from-merkle-black to-transparent"></div>
                </div>
                <!-- Particle effects simulated via CSS/Divs -->
                <div class="absolute w-64 h-64 bg-merkle-purple blur-[100px] opacity-20 animate-pulse"></div>
            </div>
        </div>
    </section>

    <!-- LOGIC -->
    <script>
       // Initialize Icons
        lucide.createIcons();

        // Wait for Load
        window.addEventListener('load', () => {
            gsap.registerPlugin(TextPlugin);

            // --- Custom Cursor Logic ---
            const cursor = document.getElementById('cursor');
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });

            const interactiveElements = document.querySelectorAll('a, button, input');
            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
                el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
            });

            // --- Magnetic Buttons ---
            const magnets = document.querySelectorAll('.magnet-btn');
            magnets.forEach((magnet) => {
                magnet.addEventListener('mousemove', (e) => {
                    const rect = magnet.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    gsap.to(magnet, { duration: 0.3, x: x * 0.2, y: y * 0.2 });
                });
                magnet.addEventListener('mouseleave', () => {
                    gsap.to(magnet, { duration: 0.3, x: 0, y: 0 });
                });
            });

            // --- Theme Music on Button Click ---
            const themeMusic = document.getElementById('theme-music');
            const playButtons = document.querySelectorAll('.magnet-btn, .magnet-btn-mobile');

            playButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    // Play the music
                    themeMusic.currentTime = 0; // Start from beginning
                    themeMusic.play().catch(err => console.log('Audio play failed:', err));

                    // If it's the Play Game button, allow navigation after a brief moment
                    if (button.tagName === 'A') {
                        e.preventDefault();
                        setTimeout(() => {
                            window.location.href = button.href;
                        }, 300);
                    }
                });
            });

            // --- Hero Animation Timeline ---
            const heroTl = gsap.timeline();

            // Fade in everything at once (logo, title, image)
            heroTl.to("#logo-image-mobile, #logo-image-desktop", {
                opacity: 1,
                duration: 0.8,
                ease: "power2.out"
            }, 0);

            heroTl.to("#hero-title-mobile, #hero-title-desktop", {
                duration: 0.8,
                opacity: 1,
                ease: "power2.out"
            }, 0);

            heroTl.to("#hero-image-mobile, #hero-image-desktop", {
                opacity: 1,
                y: 0,
                scale: 1,
                duration: 0.8,
                ease: "power2.out"
            }, 0);

            // Then type the tagline after everything is visible
            heroTl.to("#hero-tagline-mobile, #hero-tagline-desktop", {
                duration: 2,
                text: "All for the green and Purple",
                ease: "none"
            }, 0.8);

            // --- Vortex Spin (Runs always) ---
            gsap.to("#hero-vortex", {
                rotation: 360,
                transformOrigin: "center center",
                repeat: -1,
                duration: 20,
                ease: "linear"
            });
        });
    </script>

    <style>
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 20s linear infinite;
        }
    </style>
</body>
</html>
