<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merkle Man | Get Your Tooth Back</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        merkle: {
                            black: '#050505',
                            dark: '#0a0b10',
                            green: '#00ff41',
                            purple: '#bc13fe',
                            blue: '#00f3ff'
                        }
                    },
                    fontFamily: {
                        display: ['Orbitron', 'sans-serif'],
                        body: ['Rajdhani', 'sans-serif'],
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, #00ff4105 1px, transparent 1px), linear-gradient(to bottom, #00ff4105 1px, transparent 1px)",
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            color: #ffffff;
            overflow-x: hidden;
            cursor: none; /* Custom cursor */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0b10;
        }
        ::-webkit-scrollbar-thumb {
            background: #00ff41;
            border-radius: 4px;
        }

        /* Glow Utilities */
        .glow-text-green { text-shadow: 0 0 10px rgba(0, 255, 65, 0.7); }
        .glow-text-purple { text-shadow: 0 0 10px rgba(188, 19, 254, 0.7); }
        .glow-box-green { box-shadow: 0 0 20px rgba(0, 255, 65, 0.2); }

        .neon-border {
            position: relative;
        }
        .neon-border::after {
            content: '';
            position: absolute;
            inset: -2px;
            background: linear-gradient(45deg, #00ff41, #bc13fe, #00f3ff);
            z-index: -1;
            filter: blur(10px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .neon-border:hover::after {
            opacity: 1;
        }

        /* Custom Cursor */
        #cursor {
            width: 20px;
            height: 20px;
            border: 2px solid #00ff41;
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
            mix-blend-mode: difference;
        }
        #cursor.hovered {
            width: 50px;
            height: 50px;
            background-color: rgba(0, 255, 65, 0.2);
            border-color: #bc13fe;
        }

        /* SVG Utilities */
        .path-draw {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }
    </style>
</head>
<body class="font-body selection:bg-merkle-green selection:text-black">

    <!-- Custom Cursor -->
    <div id="cursor"></div>

    <!-- LOADING SCREEN (Street Fighter Style) -->
    <div id="loader" class="fixed inset-0 z-[100] flex overflow-hidden font-display bg-black select-none">
        <!-- Left Side (Hero) -->
        <div id="loader-left" class="w-1/2 h-full bg-merkle-dark border-r-4 border-merkle-green flex flex-col items-end justify-center pr-4 md:pr-10 relative transform -translate-x-full z-10">
            <div class="text-merkle-green text-4xl md:text-6xl font-black italic tracking-tighter">MERKLE</div>
            <div class="text-white text-3xl md:text-5xl font-bold uppercase">Man</div>
            <div class="mt-4 px-4 py-1 bg-merkle-green text-black font-bold text-xs uppercase tracking-widest">Player 1</div>
            <!-- Decorative grid -->
            <div class="absolute inset-0 bg-grid-pattern opacity-10 pointer-events-none"></div>
            <!-- Character Portrait Silhouette (CSS-based) -->
             <div class="absolute bottom-0 left-0 w-full h-3/4 opacity-10 pointer-events-none" style="background: radial-gradient(circle at bottom left, #00ff41, transparent 60%);"></div>
        </div>

        <!-- Right Side (Villain) -->
        <div id="loader-right" class="w-1/2 h-full bg-[#1a0505] border-l-4 border-red-600 flex flex-col items-start justify-center pl-4 md:pl-10 relative transform translate-x-full z-10">
            <div class="text-red-500 text-4xl md:text-6xl font-black italic tracking-tighter text-right md:text-left">TOOTH</div>
            <div class="text-white text-3xl md:text-5xl font-bold uppercase text-right md:text-left">THIEF</div>
            <div class="mt-4 px-4 py-1 bg-red-600 text-white font-bold text-xs uppercase tracking-widest">Challenger</div>
            <!-- Decorative noise -->
            <div class="absolute inset-0 opacity-10 pointer-events-none" style="background-image: repeating-linear-gradient(45deg, #ff0000 0, #ff0000 1px, transparent 0, transparent 50%); background-size: 10px 10px;"></div>
             <div class="absolute bottom-0 right-0 w-full h-3/4 opacity-10 pointer-events-none" style="background: radial-gradient(circle at bottom right, #ff0000, transparent 60%);"></div>
        </div>

        <!-- Center VS Logo -->
        <div id="loader-vs" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 flex items-center justify-center opacity-0 scale-0">
            <div class="relative">
                <div class="text-8xl md:text-9xl font-black italic text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 via-yellow-500 to-yellow-700 drop-shadow-[0_0_30px_rgba(234,179,8,0.8)]" style="-webkit-text-stroke: 2px white;">
                    VS
                </div>
                <div class="absolute inset-0 animate-pulse mix-blend-overlay bg-yellow-400 blur-xl opacity-50"></div>
            </div>
        </div>

        <!-- Loading Text -->
        <div id="loader-text" class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-white/50 font-mono text-xs md:text-sm tracking-[0.5em] z-20 opacity-0">
            INITIALIZING_GAME_DATA...
        </div>
    </div>

    <!-- Background Grid -->
    <div class="fixed inset-0 bg-grid-pattern bg-[length:40px_40px] pointer-events-none z-[-1] opacity-20"></div>

    <!-- HERO SECTION -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden pt-20">
        <!-- Background Vortex Elements -->
        <div class="absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none">
            <svg id="hero-vortex" width="800" height="800" viewBox="0 0 800 800" class="animate-spin-slow">
                <circle cx="400" cy="400" r="300" stroke="#00ff41" stroke-width="1" fill="none" stroke-dasharray="20 10" />
                <circle cx="400" cy="400" r="250" stroke="#bc13fe" stroke-width="1" fill="none" stroke-dasharray="10 30" />
                <circle cx="400" cy="400" r="200" stroke="#00f3ff" stroke-width="2" fill="none" stroke-dasharray="50 50" />
            </svg>
        </div>

        <div class="container mx-auto px-6 z-10 grid md:grid-cols-2 gap-12 items-center">
            <div class="text-center md:text-left">
                <!-- Animated Logo -->
                <div class="w-32 h-32 mx-auto md:mx-0 mb-6 relative">
                    <img id="logo-image" src="merkleman-logo.png" alt="Merkle Man Logo" class="w-full h-full object-contain drop-shadow-[0_0_15px_rgba(0,255,65,0.5)] opacity-0" />
                </div>

                <h1 class="text-5xl md:text-7xl font-display font-black leading-tight mb-4">
                    <span id="hero-title" class="text-transparent bg-clip-text bg-gradient-to-r from-merkle-green to-merkle-blue">The Merkle Man Game</span>
                </h1>
                <p id="hero-tagline" class="text-xl md:text-2xl text-gray-400 font-light tracking-wider mb-8 h-8"></p> <!-- Typed text container -->

                <div class="flex flex-col md:flex-row gap-4 justify-center md:justify-start">
                    <a href="game.html" class="magnet-btn group relative px-8 py-4 bg-merkle-green text-black font-bold font-display uppercase tracking-widest overflow-hidden no-underline">
                        <span class="relative z-10">Play Game</span>
                        <div class="absolute inset-0 bg-white transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 z-0"></div>
                    </a>
                    <button class="magnet-btn px-8 py-4 border border-merkle-purple text-merkle-purple font-bold font-display uppercase tracking-widest hover:bg-merkle-purple/10 transition-colors">
                        Instructions
                    </button>
                </div>
            </div>

            <!-- Hero Silhouette -->
            <div class="relative h-[500px] flex items-center justify-center perspective-1000">
                <div id="hero-image" class="w-full h-full bg-contain bg-center bg-no-repeat relative z-10 opacity-0 transform translate-y-20 scale-90"
                     style="background-image: url('merkleman-hero.png');">
                     <div class="absolute inset-0 bg-gradient-to-t from-merkle-black to-transparent"></div>
                </div>
                <!-- Particle effects simulated via CSS/Divs -->
                <div class="absolute w-64 h-64 bg-merkle-purple blur-[100px] opacity-20 animate-pulse"></div>
            </div>
        </div>
    </section>

    <!-- LOGIC -->
    <script>
       // Initialize Icons
        lucide.createIcons();

        // Wait for Load
        window.addEventListener('load', () => {
            gsap.registerPlugin(TextPlugin);

            // --- Custom Cursor Logic ---
            const cursor = document.getElementById('cursor');
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });

            const interactiveElements = document.querySelectorAll('a, button, input');
            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
                el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
            });

            // --- Magnetic Buttons ---
            const magnets = document.querySelectorAll('.magnet-btn');
            magnets.forEach((magnet) => {
                magnet.addEventListener('mousemove', (e) => {
                    const rect = magnet.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    gsap.to(magnet, { duration: 0.3, x: x * 0.2, y: y * 0.2 });
                });
                magnet.addEventListener('mouseleave', () => {
                    gsap.to(magnet, { duration: 0.3, x: 0, y: 0 });
                });
            });

            // --- LOADING SCREEN ANIMATION ---
            const heroTl = gsap.timeline({ paused: true }); // Pause hero until loaded

            const loaderTl = gsap.timeline({
                onComplete: () => {
                    document.getElementById('loader').style.display = 'none';
                    heroTl.play(); // Start Hero Logic
                }
            });

            // 1. Panels Slide In (Impact)
            loaderTl.to("#loader-left", { x: "0%", duration: 0.8, ease: "power4.inOut" })
                    .to("#loader-right", { x: "0%", duration: 0.8, ease: "power4.inOut" }, "<")
            // 2. VS Slam & Shake
                    .to("#loader-vs", { scale: 1, opacity: 1, duration: 0.5, ease: "elastic.out(1, 0.4)" })
                    .to("#loader", { x: "+=5", y: "+=5", repeat: 5, duration: 0.04, yoyo: true }, "<0.1") // Screen Shake
            // 3. Text Type/Flash
                    .to("#loader-text", { opacity: 1, duration: 0.1, repeat: 3, yoyo: true }, "+=0.2")
                    .to({}, { duration: 1 }) // Wait for "load"
            // 4. Exit Animation (Curtain Open)
                    .to("#loader-vs", { scale: 0, opacity: 0, duration: 0.3 })
                    .to("#loader-text", { opacity: 0, duration: 0.2 }, "<")
                    .to("#loader-left", { x: "-100%", duration: 0.8, ease: "power2.inOut" })
                    .to("#loader-right", { x: "100%", duration: 0.8, ease: "power2.inOut" }, "<");


            // --- Hero Animation Timeline (Previously global) ---

            // 1. Fade in Logo
            heroTl.to("#logo-image", { opacity: 1, duration: 1, ease: "power2.out" });

            // 2. Type Text
            heroTl.to("#hero-title", {
                duration: 0.5,
                opacity: 1,
                ease: "power2.out"
            }).to("#hero-tagline", {
                duration: 2,
                text: "All for the green and Purple",
                ease: "none"
            });

            // 3. Reveal Hero Image
            heroTl.to("#hero-image", {
                opacity: 1,
                y: 0,
                scale: 1,
                duration: 1.2,
                ease: "elastic.out(1, 0.5)"
            }, "-=1.5");

            // --- Vortex Spin (Runs always) ---
            gsap.to("#hero-vortex", {
                rotation: 360,
                transformOrigin: "center center",
                repeat: -1,
                duration: 20,
                ease: "linear"
            });
        });
    </script>

    <style>
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 20s linear infinite;
        }
    </style>
</body>
</html>
